package Project3;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

import java.time.Duration;
import java.util.concurrent.TimeUnit;

public class FirstClassOfProject3 {
    public static void main(String[] args){
        // here we are initating path of chromedriver
        System.setProperty("webdriver.chrome.driver","/Users/douaaalaaldin/IdeaProjects/Orange_HRM3Group5/chromedriver");

        ChromeOptions ops = new ChromeOptions();
        ops.addArguments("--remote-allow-origins=*");
        // Creating new instance of chromedriver
        WebDriver driver= new ChromeDriver(ops);
        driver.manage().window().maximize();

        driver.get("https://opensource-demo.orangehrmlive.com/web/index.php/auth/login");


        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);

        // setting timeout for 10 secs
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));

        // Checking username field
        WebElement userInput = driver.findElement(By.xpath("//input[@name='username']"));
        wait.until(ExpectedConditions.visibilityOf(userInput));

        // send keys
        userInput.sendKeys("Admin");

        // checking for password field
        WebElement passwordInput = driver.findElement(By.xpath("//input[@name='password']"));
        passwordInput.sendKeys("admin123");

        // Clicking Login Button
        WebElement loginButton = driver.findElement(By.xpath("//button[@type='submit']"));
        loginButton.click();

        try{
            Thread.sleep(5000);
        }catch (InterruptedException e){
            e.printStackTrace();
        }

        // checking if it logged in into website or not
        WebElement dashboardTitle = driver.findElement(By.xpath("//h6[text()='Dashboard']"));
        String dashboardTitleText= dashboardTitle.getText();
        if (dashboardTitleText.equals("Dashboard")){
            System.out.println("Login Successful");
        }else{
            System.out.println("Login Failed");
        }
        driver.quit();



    }
}
